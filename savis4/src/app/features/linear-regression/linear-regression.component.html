<div class="linearRegressionBox">
<!-- header -->
<app-navbar></app-navbar>

<!--link to user manual -->
<div class="manual-link">
  <button
    class="btn manual-btn"
    type="button"
    [routerLink]="['/regression']">
       Linear Regression Guide
  </button>
</div>

<!--link to practice problems-->
<div class="problems-link">
  <button
    class="btn problems-btn"
    type="button"
    [routerLink]="['/problems-regression']">
      Linear Regression Practice Problems
  </button>
</div>

<!-- contents -->
<h1 class="text-center py-4">{{ 'lr_title' | translate }}</h1>
<div class="container">
    <div class="lhs">
      <form #myForm="ngForm">
        <div id="control" class="input-container">
          <label for="dataPoints">{{ 'lr_enter_data' | translate }}:</label>
          <br>
          <textarea 
            class="textarea border-2 border-gray-900 rounded-md" 
            [value]="csvContent" 
            id="dataPoints" 
            name="dataPoints" 
            [(ngModel)]="datapoints"
            placeholder="{{ 'lr_placeholder' | translate }}"
            >
          </textarea>
          <!-- <csv-file-upload class="textarea" id="dataPoints" name="dataPoints" [(ngModel)]="datapoints" placeholder="e.g., 1,3\n2,5\n3,7"></csv-file-upload> -->
          <br>
          <div class="d-flex">
            <button class="btn" (click)="updateChart()">{{ 'lr_update_chart' | translate }}</button>
            <label class="file-input mx-2">
              <input 
              class="hidden" 
              type="file" 
              (change)="onFileSelect($event)" 
              accept=".csv">
              <span class="btn">{{ 'lr_choose_file' | translate }}</span>
            </label>
          </div>
          
          <!-- Export buttons -->
          <div class="form-group mt-3">
            <button class="btn" id="export-pdf-btn" (click)="exportAsPDF()" [disabled]="parsedDatapoints.length === 0">Export as PDF</button>
          </div>
          <div class="form-group mt-3">
            <button class="btn" id="export-docx-btn" (click)="exportAsDOCX()" [disabled]="parsedDatapoints.length === 0">Export as DOCX</button>
          </div>
          <app-save-load-buttons 
            [data]="datapoints"
            [feature]="'linearRegression'"
          ></app-save-load-buttons>
        </div>
      </form>
    </div>

      <div class="rhs">
    <div class="chart-header">
      <h3>Drag to move line vertically | Shift+Drag to rotate | Arrow keys for both</h3>
    </div>
    <div class="chart">
      <app-scatter-plot 
        class="chartData" 
        [dataPoints]="parsedDatapoints">
      </app-scatter-plot>
    </div>
  </div>
  <!-- footer -->
  <footer class="static-footer">
    {{ "nav_copyright" | translate }}
  </footer>
</div>