<app-navbar></app-navbar>
<!--Dot Plot Problem Component-->
<div class="dot-plot-container">
  <h1 class="title">{{'problems_dot_plot_title' | translate}}</h1>
  <div button="back" routerLink="/problems" class="back-button">
      &larr; {{ 'problems_back' | translate }}
    </div>
  <div class="content">
    <div class="text-section">
      <div class="green-box">
        <p>{{ question }}</p>
      </div>
      <!-- Multiple-choice options -->
      <div class="multiple-choice">
        <div *ngFor="let choice of multipleChoices; let i = index">
          <input
            type="radio"
            [value]="choice"
            [(ngModel)]="selectedAnswer"
            name="choices"
            [id]="'choice-' + i"
          />
          <label class="choice-label" [for]="'choice-' + i">{{ choice }}</label>
        </div>
      </div>
      <!-- Submit button -->
      <button class="submit-button" (click)="submitAnswer()">{{ 'problems_submit' | translate }}</button>
      <!-- Show if user answer is correct or incorrect -->
      <div
        *ngIf="showAnswer"
        class="answer-box"
        [ngClass]="{ correct: answerIsCorrect, incorrect: !answerIsCorrect }"
      >
        <p>{{ answerIsCorrect ? 'Correct!' : 'Incorrect answer. Please try again!' }}</p>
        <p *ngIf="!answerIsCorrect">
          Correct answer: {{ correctAnswer }}
        </p>
        <!-- Hide answer button -->
        <button (click)="hideAnswer()" class="hide-button">{{ 'problems_hide' | translate }}</button>
      </div>
      <!-- Generate new problem button -->
      <button class="generate-button" (click)="generateNewProblem()">{{ 'problems_generator' | translate }}</button>
    </div>

    <!-- Right side: Dot Plot -->
    <div class="chart-container">
      <canvas #inputChart width="900" height="400"></canvas>
    </div>
  </div>

  <!-- Drawing workspace -->
  <div class="workspace-container">
    <h2>Workspace</h2>
    <div class="canvas-wrapper">
      <canvas id="drawingCanvas" width="800" height="320" style="border:1px solid #000000;"></canvas>
      <textarea id="textOverlay" class="text-overlay" placeholder="Click to type..." aria-label="Workspace text overlay"></textarea>
    </div>
    <div class="workspace-controls">
      <div class="color-buttons">
        <button class="color-button black" data-color="#000000"></button>
        <button class="color-button red" data-color="#FF0000"></button>
        <button class="color-button green" data-color="#00FF00"></button>
        <button class="color-button blue" data-color="#0000FF"></button>
        <button class="color-button yellow" data-color="#FFFF00"></button>
      </div>
      <div class="mode-buttons">
        <button id="drawButton" class="workspace-button active">Draw</button>
        <button id="textButton" class="workspace-button">Text</button>
        <button id="eraserButton" class="workspace-button">Eraser</button>
        <button id="clearButton" class="workspace-button">Clear All</button>
      </div>
    </div>
  </div>
</div>
<!-- Footer -->
<footer class="static-footer">
  {{ "nav_copyright" | translate }}
</footer>