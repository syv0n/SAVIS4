// SCSS Styles for Calculator Component
.calculator-container {
  position: absolute;
  top: 100px;
  left: 100px;
  background: linear-gradient(180deg, var(--panel-top, #2e3236), var(--panel-bot, #1f2225));
  border-radius: 16px;
  user-select: none;
  box-shadow:
    0 16px 32px rgba(0,0,0,.35),
    0 2px 0 rgba(255,255,255,.06) inset,
    0 -4px 12px rgba(0,0,0,.25) inset;
  color: white;
  display: flex;
  flex-direction: column;
  padding: 10px;
  padding-bottom: calc(10px + var(--key-gap));
}

// Styles for display, buttons, and layout
.display {
  background: linear-gradient(180deg, var(--display-top, #0f1113), var(--display-bot, #1a1c1f));
  padding: 20px 15px; 
  font-size: 1.8rem; 
  border-radius: 12px;
  margin-bottom: var(--key-gap);
  text-align: right;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
  box-shadow:
    0 1px 0 rgba(255,255,255,.06) inset,
    0 -6px 12px rgba(0,0,0,.45) inset;
  color: #fff;
  min-height: 60px; 
}

// Toggle button for advanced mode
.advanced-toggle {
  margin-bottom: 10px;
  padding: var(--key-pad);
  background: linear-gradient(180deg, var(--op-top, #6d7175), var(--op-bot, #4b4f54));
  border: none;
  border-radius: 12px;
  color: var(--op-text, #ffffff);
  cursor: pointer;
  position: relative;
  box-shadow:
    0 6px 0 var(--op-edge, #2f3337),
    0 2px 0 rgba(255,255,255,.12) inset,
    0 -10px 18px rgba(0,0,0,.18) inset;
  transform: translateY(0);
  transition: transform 120ms ease, box-shadow 120ms ease, background-color 180ms ease, filter 120ms ease;
}

.advanced-toggle::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0) 45%);
  pointer-events: none;
}

.advanced-toggle:active {
  transform: translateY(2px);
  box-shadow:
    0 4px 0 var(--op-edge, #2f3337),
    0 1px 0 rgba(255,255,255,.10) inset,
    0 -6px 12px rgba(0,0,0,.16) inset;
}

// Button grid layout
.buttons {
  display: flex;
  flex-direction: column;
  gap: var(--key-gap);
  padding: 0;
  box-sizing: border-box;
  flex: 1;
}

// Individual button styles
.button-row {
  display: flex;
  gap: var(--key-gap);
  min-width: 0;
}

// Button styles
button {
  flex: 1;
  padding: var(--key-pad);
  min-height: var(--key-min-h);
  font-size: 1.2rem;
  border: none;
  border-radius: 12px;
  color: var(--key-text, #f7f7f7);
  cursor: pointer;
  background: linear-gradient(180deg, var(--key-top, #5aa573), var(--key-bot, #3f7a51));
  box-shadow:
    0 6px 0 var(--key-edge, #2e5f40),
    0 2px 0 rgba(255,255,255,.12) inset,
    0 -10px 18px rgba(0,0,0,.18) inset;
  transform: translateY(0);
  transition: transform 120ms ease, box-shadow 120ms ease, background-color 180ms ease, filter 120ms ease;
}

// Gloss for buttons
.buttons button::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(180deg, rgba(255,255,255,.18), rgba(255,255,255,0) 40%);
  pointer-events: none;
}

// Pressed button
.buttons button:active {
  transform: translateY(2px);
  box-shadow:
    0 4px 0 var(--key-edge, #2e5f40),
    0 1px 0 rgba(255,255,255,.10) inset,
    0 -6px 12px rgba(0,0,0,.16) inset;
}

// Hover effect (safe for gradients)
@media (hover: hover) and (pointer: fine) {
  .buttons button:hover {
    color: var(--op-text, #ffffff);
    background: linear-gradient(180deg, var(--op-top, #6d7175), var(--op-bot, #4b4f54));
    box-shadow:
      0 6px 0 var(--op-edge, #2f3337),
      0 2px 0 rgba(255,255,255,.20) inset,
      0 -8px 14px rgba(0,0,0,.16) inset;
  }
}

// Operator active (sticky highlight)
button.is-active-operator {
  color: var(--op-text, #ffffff);
  background: linear-gradient(180deg, var(--op-top, #6d7175), var(--op-bot, #4b4f54));
  box-shadow:
    0 6px 0 var(--op-edge, #2f3337),
    0 2px 0 rgba(255,255,255,.20) inset,
    0 -8px 14px rgba(0,0,0,.16) inset;
  transition: background-color 120ms ease;
}

.buttons button.is-active-operator::after {
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,0) 45%);
}

// Header and drag handle
.calculator-header {
  width: 100%;
  height: 30px;
  cursor: move;
  background: #222;
}

// Resize handle styles
.resize-handle {
  width: 12px;
  height: 12px;
  position: absolute;
  right: 0;
  bottom: 0;
  cursor: se-resize;
  background: #666;
}

// Defines variables inside component scope
:host {
  --key-gap: clamp(6px, 1.2vw, 12px);
  --key-pad: clamp(8px, 1.4vw, 12px);
  --key-min-h: clamp(44px, 7.5vh, 56px);

  --panel-top: #2e3236;
  --panel-bot: #1f2225;

  --key-top: #5aa573;     // green top
  --key-bot: #3f7a51;     // green bottom
  --key-edge: #2e5f40;    // bottom edge
  --key-text: #f7f7f7;

  --op-top: #6d7175;      // active operator top
  --op-bot: #4b4f54;      // active operator bottom
  --op-edge: #2f3337;     // active operator edge
  --op-text: #ffffff;

  --display-top: #0f1113;
  --display-bot: #1a1c1f;
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {
  .buttons button, .advanced-toggle { transition: none; }
}