<!-- header -->
<app-navbar></app-navbar>

<!-- contents -->
<h1 class="text-center py-4">{{ 'lr_title' | translate }}</h1>
<div class="container">
    <div class="lhs">
      <form #myForm="ngForm">
        <div class="input-container">
          <label for="dataPoints">{{ 'lr_enter_data' | translate }}:</label>
          <br>
          <textarea 
            class="textarea border-2 border-gray-900 rounded-md" 
            [value]="csvContent" 
            id="dataPoints" 
            name="dataPoints" 
            [(ngModel)]="datapoints"
            placeholder="{{ 'lr_placeholder' | translate }}"
            >
          </textarea>
          <!-- <csv-file-upload class="textarea" id="dataPoints" name="dataPoints" [(ngModel)]="datapoints" placeholder="e.g., 1,3\n2,5\n3,7"></csv-file-upload> -->
          <br>
          <button class="bg-white hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow" (click)="updateChart()">{{ 'lr_update_chart' | translate }}</button>
          <label class="file-input mx-2">
            <input 
            class="hidden" 
            type="file" 
            (change)="onFileSelect($event)" 
            accept=".csv">
            <span class="bg-white hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 border border-gray-400 rounded shadow">{{ 'lr_choose_file' | translate }}</span>
          </label>
          <app-save-load-buttons 
            [data]="datapoints"
            [feature]="'linearRegression'"
          ></app-save-load-buttons>
        </div>
      </form>
    </div>

    <div class="rhs">
      <div class="chart">
        <app-scatter-plot 
          class="chartData" 
          [dataPoints]="parsedDatapoints">
        </app-scatter-plot>
      </div>
    </div>
  </div>

  <!-- footer -->
  <app-footer class="fixed inset-x-0 bottom-0"></app-footer>